<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>私人歌单生成器</title>
    <link rel="stylesheet" href="css/styles.css" />
    <link rel="stylesheet" href="css/auth.css" />
  </head>
  <body>
    <!-- 导航栏 -->
    <header>
      <div class="container">
        <nav>
          <div class="logo">私人歌单</div>
          <ul class="nav-links">
            <li><a href="#">首页</a></li>
            <li><a href="#">歌单管理</a></li>
            <li><a href="#">智能推荐</a></li>
            <li><a href="#">数据统计</a></li>
            <li><a href="#" class="login-btn">登录</a></li>
          </ul>
        </nav>
      </div>
    </header>

    <!-- 主要内容区 -->
    <section class="hero">
      <div class="container">
        <h1>统一管理你的本地音乐库</h1>
        <p>
          智能解析本地音乐文件，跨平台整合音乐资源，创建个性化歌单，享受高品质的音乐体验。
        </p>
        <div class="hero-buttons">
          <a href="#" class="cta-btn" id="upload-music-btn">上传音乐</a>
          <a href="#" class="cta-btn cta-secondary">了解更多</a>
        </div>
      </div>
    </section>

    <!-- 功能展示区 -->
    <section class="features">
      <div class="container">
        <div class="section-title">
          <h2>核心功能</h2>
          <p>为本地音乐文件打造的一体化管理解决方案</p>
        </div>
        <div class="feature-grid">
          <div class="feature-card">
            <div class="feature-icon">📊</div>
            <h3>智能解析</h3>
            <p>
              支持MP3/FLAC/WAV元数据提取，自动识别专辑封面，精准分析音乐风格与BPM。
            </p>
          </div>
          <div class="feature-card">
            <div class="feature-icon">📝</div>
            <h3>歌单工坊</h3>
            <p>
              拖拽式歌单编辑，智能标签系统，支持多维度排序筛选，打造完美歌单体验。
            </p>
          </div>
          <div class="feature-card">
            <div class="feature-icon">🎵</div>
            <h3>本地播放</h3>
            <p>
              无损音频解码，可视化音效调节，支持离线歌词同步，体验高品质音乐播放。
            </p>
          </div>
          <div class="feature-card">
            <div class="feature-icon">🔍</div>
            <h3>数据洞察</h3>
            <p>
              听歌习惯分析，音乐基因图谱，年度听歌报告，深入了解你的音乐品味。
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- 歌单展示区 -->
    <section class="playlist-section">
      <div class="container">
        <div class="section-title">
          <h2>歌单管理</h2>
          <p>整合管理你的音乐收藏</p>
        </div>
        <div class="playlist-container">
          <div class="playlist-sidebar">
            <h3 class="sidebar-title">我的歌单</h3>
            <ul class="playlist-list">
              <li class="active">最爱收藏</li>
              <li>流行热歌</li>
              <li>轻音乐</li>
              <li>运动动力</li>
              <li>工作专注</li>
              <li>睡前放松</li>
            </ul>
          </div>
          <div class="song-container">
            <div class="song-header">
              <h3>最爱收藏</h3>
              <div class="song-actions">
                <button id="add-song-btn">添加歌曲</button>
                <button id="recommend-btn">智能推荐</button>
              </div>
            </div>
            <table class="song-table">
              <thead>
                <tr>
                  <th>#</th>
                  <th>歌曲名</th>
                  <th>艺术家</th>
                  <th>专辑</th>
                  <th>时长</th>
                  <th>操作</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>1</td>
                  <td>春风十里</td>
                  <td>鹿先森乐队</td>
                  <td>所有的酒，都不如你</td>
                  <td>5:28</td>
                  <td>♡</td>
                </tr>
                <tr>
                  <td>2</td>
                  <td>莫斯科没有眼泪</td>
                  <td>李健</td>
                  <td>似水流年</td>
                  <td>4:36</td>
                  <td>♡</td>
                </tr>
                <tr>
                  <td>3</td>
                  <td>消愁</td>
                  <td>毛不易</td>
                  <td>平凡的一天</td>
                  <td>4:09</td>
                  <td>♡</td>
                </tr>
                <tr>
                  <td>4</td>
                  <td>芒种</td>
                  <td>音阙诗听/赵方婧</td>
                  <td>芒种</td>
                  <td>3:36</td>
                  <td>♡</td>
                </tr>
                <tr>
                  <td>5</td>
                  <td>起风了</td>
                  <td>买辣椒也用券</td>
                  <td>起风了</td>
                  <td>5:11</td>
                  <td>♡</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </section>

    <!-- 播放器控制栏 -->
    <div class="player-bar">
      <div class="now-playing">
        <div class="album-art"></div>
        <div class="track-info">
          <h4>消愁</h4>
          <p>毛不易 - 平凡的一天</p>
        </div>
      </div>
      <div class="player-controls">
        <button class="control-btn">⏮</button>
        <button class="control-btn" style="font-size: 2rem">▶</button>
        <button class="control-btn">⏭</button>
      </div>
      <div class="progress-container">
        <div class="progress-bar">
          <div class="progress"></div>
        </div>
        <div class="time-info">
          <span>1:32</span>
          <span>4:09</span>
        </div>
      </div>
    </div>

    <!-- 页脚 -->
    <footer>
      <div class="container">
        <div class="footer-content">
          <div class="footer-info">
            <div class="footer-logo">私人歌单</div>
            <p class="footer-description">
              为音乐爱好者打造的本地音乐管理解决方案，让音乐回归私人体验。
            </p>
            <div class="social-links">
              <a href="#" class="social-link">微</a>
              <a href="#" class="social-link">微</a>
              <a href="#" class="social-link">知</a>
              <a href="#" class="social-link">抖</a>
            </div>
          </div>
          <div class="footer-links">
            <h3>产品</h3>
            <ul>
              <li><a href="#">功能介绍</a></li>
              <li><a href="#">技术支持</a></li>
              <li><a href="#">更新日志</a></li>
              <li><a href="#">路线图</a></li>
            </ul>
          </div>
          <div class="footer-links">
            <h3>资源</h3>
            <ul>
              <li><a href="#">使用文档</a></li>
              <li><a href="#">常见问题</a></li>
              <li><a href="#">开发者文档</a></li>
              <li><a href="#">API接口</a></li>
            </ul>
          </div>
          <div class="footer-links">
            <h3>关于我们</h3>
            <ul>
              <li><a href="#">团队介绍</a></li>
              <li><a href="#">联系我们</a></li>
              <li><a href="#">加入我们</a></li>
              <li><a href="#">隐私政策</a></li>
            </ul>
          </div>
        </div>
        <div class="copyright">&copy; 2024 dedicated-pro组织 版权所有</div>
      </div>
    </footer>

    <!-- JavaScript -->
    <script type="module">
      // 由于模块导入在普通HTML中需要类型为module
      import AuthManager from "./js/auth.js";

      // 在页面加载完成后初始化认证管理器
      document.addEventListener("DOMContentLoaded", () => {
        // 初始化认证管理器
        const authManager = new AuthManager();

        // 音乐上传按钮点击事件，需要登录验证
        document
          .getElementById("upload-music-btn")
          .addEventListener("click", (e) => {
            e.preventDefault();

            // 检查是否已登录
            if (!authManager.isLoggedIn()) {
              alert("请先登录后再上传音乐");
              // 显示登录模态框
              authManager.showLoginModal();
              return;
            }

            // 已登录，执行上传逻辑
            alert("请选择要上传的音乐文件");
          });

        // 添加歌曲按钮也需要登录验证
        document
          .getElementById("add-song-btn")
          .addEventListener("click", () => {
            // 检查是否已登录
            if (!authManager.isLoggedIn()) {
              alert("请先登录后再添加歌曲");
              // 显示登录模态框
              authManager.showLoginModal();
              return;
            }

            // 已登录，执行添加歌曲逻辑...
            alert("请选择要添加的音乐文件");
          });
      });
    </script>
    <script src="js/main.js"></script>
  </body>
</html>
